<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Settings</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="../stylesheets/settingsStyles.css" />
    <script>
      const user = <%- JSON.stringify(user) %>
    </script>
    <script src="../javascripts/settingsScript.js" defer></script>
  </head>

  <body>
    <div class="main-wrapper">
      <div class="nav">
        <a href="/">
          <div class="logoBox">
            <img src="../Assets/logo.png" alt="" class="logoImg" />
            <h1 class="logo"><span>Flash</span>Typer</h1>
          </div>
        </a>

        <div class="navElements">
          <% if (user.userName){ %>
          <a href="/profile" id="userProfile">Profile</a>
          <a href="/logout" id="logout">Logout</a>
          <% } else { %>
          <a href="/login" id="login">Login</a>
          <% } %>
          <a href="/contact-us" id="login">Contact Us</a>
          <a href="/settings">
            <img
              width="24"
              height="24"
              src="https://img.icons8.com/material-sharp/24/settings.png"
              alt="settings"
              id="settings"
            />
          </a>
        </div>
      </div>
      <div class="wrapper">
        <ul class="sidebar-nav">
          <% if (user.userName){ %>
          <li class="sidebar-item">
            <a href="#" class="sidebar-link active">
              <img src="../Assets/user.png" alt="" class="items" />
              <span>Account</span>
            </a>
          </li>
          <% } %>

          <li class="sidebar-item">
            <a
              href="#"
              class="sidebar-link <%= user.userName ? '' : 'active' %>"
            >
              <img src="../Assets/layout.png" alt="" class="items" />
              <span>Preferences</span>
            </a>
          </li>
        </ul>

        <div class="main">
          <!-- MAIN PAGES -->
          <% if (user.userName){ %>

          <div id="account" class="menu">
            <div class="card mb-4">
              <h1 class="m-3">Edit Account Info</h1>
              <div class="card-body">
                <div class="line">
                  <div class="col-sm-5">
                    <p class="mb-0">Name</p>
                  </div>
                  <div class="col-sm-5">
                    <input
                      readonly
                      type="text"
                      id="name"
                      value="<%=user.name%>"
                      class="editInput"
                    />
                  </div>
                  <a href="#">
                    <img
                      width="30"
                      height="30"
                      src="https://img.icons8.com/sf-black-filled/64/000000/edit.png"
                      alt="edit"
                      class="editIcon"
                    />
                  </a>
                </div>
                <hr />
                <div class="line">
                  <div class="col-sm-5">
                    <p class="mb-0">Email</p>
                  </div>
                  <div class="col-sm-5">
                    <input
                      type="text"
                      id="email"
                      class="editInput"
                      value="<%=user.userEmail%>"
                      readonly
                    />
                  </div>
                  <a href="#">
                    <img
                      width="30"
                      height="30"
                      src="https://img.icons8.com/sf-black-filled/64/000000/edit.png"
                      alt="edit"
                      class="editIcon"
                    />
                  </a>
                </div>
                <hr />
                <div class="line">
                  <div class="col-sm-5">
                    <p class="mb-0">Gender</p>
                  </div>
                  <div class="col-sm-5">
                    <input
                      type="text"
                      class="editInput"
                      id="gender"
                      value="<%=user.userGender%>"
                      readonly
                    />
                  </div>
                  <a href="#">
                    <img
                      width="30"
                      height="30"
                      src="https://img.icons8.com/sf-black-filled/64/000000/edit.png"
                      alt="edit"
                      class="editIcon"
                    />
                  </a>
                </div>
                <hr />
                <div class="line">
                  <div class="col-sm-5">
                    <p class="mb-0">Password</p>
                  </div>
                  <div class="col-sm-5">
                    <input
                      class="editInput"
                      type="password"
                      readonly
                      id="password"
                      value="<%=user.password%>"
                    />
                  </div>
                  <a href="#">
                    <img
                      width="30"
                      height="30"
                      src="https://img.icons8.com/sf-black-filled/64/000000/edit.png"
                      alt="edit"
                      class="editIcon"
                    />
                  </a>
                </div>
                <div class="my-4" id="errorMessages"></div>
                <button type="button" id="saveInfo" class="myBtn">
                  Save Info
                </button>
                <button
                  type="button"
                  id="deleteAccountBtn"
                  class="btn btn-danger my-4"
                >
                  Delete my Account
                </button>
                <div
                  id="deleteAccountModal"
                  class="modal"
                  style="display: none"
                >
                  <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2>Confirm Account Deletion</h2>
                    <p>
                      Please enter your password to confirm account deletion.
                    </p>

                    <p>(This action can't be undone)</p>
                    <form id="confirmDeletionForm">
                      <input
                        type="password"
                        name="password"
                        placeholder="Password"
                        required
                        id="delPass"
                      />
                      <button type="submit" id="confirm-btn">I Confirm</button>

                      <div
                        id="error-message"
                        class="error"
                        style="display: none"
                      ></div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <% } %>

          <div id="appearance" class="menu">
            <!-- <% if (user.userName){ %> -->
            <div class="card">
              <!-- <% } else { %> -->
              <!-- <div class="card"> -->
              <!-- <% } %> -->
              <h1 class="m-3" class="heading">Preferences</h1>
              <div class="preferences">
                <div class="preferences1">
                  <ul class="list-group">
                    <li class="list-group-item my-2">
                      <h3>Font Size</h3>
                      <div class="btn-group">
                        <select
                          id="fontSize"
                          class="form-select"
                          aria-label="Font Size"
                        >
                          <option value="2">Medium (Default)</option>
                          <option value="1">Small</option>
                          <option value="3">Large</option>
                        </select>
                      </div>
                    </li>
                    <li class="list-group-item my-2">
                      <h3>Font Family</h3>
                      <div class="btn-group">
                        <select
                          id="fontFamily"
                          class="form-select"
                          aria-label="Font Family"
                        >
                          <option value="1">Roboto (Default)</option>
                          <option value="2">Fancy</option>
                          <option value="3">Capped</option>
                          <option value="4">Bold Art</option>
                          <option value="5">Tallsive</option>
                          <option value="6">Clean Bold</option>
                          <option value="7">Typewriter</option>
                          <option value="8">Classic</option>
                        </select>
                      </div>
                    </li>
                    <li class="list-group-item my-2">
                      <h3>Theme</h3>
                      <div class="btn-group">
                        <select
                          id="theme"
                          class="form-select"
                          aria-label="Theme"
                        >
                          <option value="1">Midnight Blue</option>
                          <option value="2">Panda</option>
                          <option value="3">Hacker's Matrix</option>
                          <option value="4">Incognito</option>
                          <option value="5">Paper</option>
                          <option value="6">Crimson's Blush</option>
                        </select>
                      </div>
                    </li>
                  </ul>
                </div>
                <div class="preferences2">
                  <div class="form-check form-switch mx-5 my-2">
                    <label class="form-check-label" for="tabRestart">
                      <h3>Hit Tab to Restart</h3>
                    </label>
                    <input
                      class="form-check-input h4"
                      type="checkbox"
                      id="tabRestart"
                    />
                  </div>
                  <div class="form-check form-switch mx-5 my-2">
                    <label class="form-check-label" for="proMode">
                      <h3>Pro Mode (No Backspace)</h3>
                    </label>
                    <input
                      class="form-check-input h4"
                      type="checkbox"
                      id="proMode"
                    />
                  </div>
                  <div class="form-check form-switch mx-5 my-2">
                    <label class="form-check-label" for="keyHitSound">
                      <h3>KeyHit Sound</h3>
                    </label>
                    <input
                      class="form-check-input h4"
                      type="checkbox"
                      id="keyHitSound"
                    />
                  </div>
                </div>
              </div>
              <div>
                <button class="myBtn" id="save">Save</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
